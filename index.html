<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Court-Mais-Trash (CMT) - ESSEC</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3A86FF;
            --secondary-color: #8338EC;
            --accent-color: #FF006E;
            --background-color: #F8F9FA;
            --text-color: #212529;
            --card-background: #FFFFFF;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --input-border: #CED4DA;
            --button-color: #3A86FF;
            --tab-inactive: #E9ECEF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: var(--text-color);
            color: white;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
        }

        nav ul {
            display: flex;
            gap: 20px;
            list-style-type: none;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: var(--accent-color);
        }

        .hero {
            background: linear-gradient(rgba(58, 134, 255, 0.8), rgba(131, 56, 236, 0.8)), url('https://source.unsplash.com/random/1600x600/?university') no-repeat center center/cover;
            color: white;
            text-align: center;
            padding: 60px 0;
        }

        .hero h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .search-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .search-input {
            width: 60%;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 30px;
            border: 2px solid var(--input-border);
            outline: none;
        }

        .search-btn {
            background-color: var(--button-color);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 0 30px 30px 0;
            margin-left: -2px;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .tab-btn {
            background-color: var(--tab-inactive);
            color: var(--text-color);
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 30px;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background-color: var(--button-color);
            color: white;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background-color: var(--card-background);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px var(--shadow-color);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .card-info {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .chart-container {
            background-color: var(--card-background);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px var(--shadow-color);
            margin-bottom: 40px;
        }

        .chart-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-color);
            text-align: center;
        }

        .about-cmt {
            background-color: var(--card-background);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px var(--shadow-color);
            margin-bottom: 40px;
        }

        .about-cmt h2 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .about-cmt p {
            margin-bottom: 15px;
        }

        footer {
            background-color: var(--text-color);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 28px;
            }

            .hero p {
                font-size: 16px;
            }

            .search-input {
                width: 70%;
            }

            .card-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">CMT</div>
            <nav>
                <ul>
                    <li><a href="#"><i class="fas fa-search"></i> Rechercher</a></li>
                    <li><a href="#"><i class="fas fa-book"></i> Cours</a></li>
                    <li><a href="#"><i class="fas fa-user"></i> Profs</a></li>
                    <li><a href="login.html"><i class="fas fa-sign-in-alt"></i> Connexion</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Bienvenue sur Court-Mais-Trash!</h1>
                <p>Découvrez les meilleurs cours et professeurs de l'ESSEC, évalués par vos pairs</p>
            </div>
        </section>

        <div class="container">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Rechercher un cours ou un professeur..." id="searchInput">
                <button class="search-btn">Rechercher</button>
            </div>

            <section class="tabs">
                <button class="tab-btn active" data-tab="courses">Les cours les mieux notés</button>
                <button class="tab-btn" data-tab="professors">Les profs les mieux notés</button>
            </section>

            <section class="card-container" id="cardContainer"></section>

            <section class="chart-container">
                <h2 class="chart-title">Analyse des départements</h2>
                <canvas id="myChart"></canvas>
            </section>

            <section class="about-cmt">
                <h2>À propos de Court-Mais-Trash</h2>
                <p>Le Court-Mais-Trash (ou CMT pour les intimes) est une plateforme qui regroupe l'ensemble des avis des étudiants de la Grande École de l'ESSEC sur les différents cours dispensés.</p>
                <p>Il est parfois difficile de faire son choix dans un catalogue de plus de 200 cours. C'est pourquoi le BDE ESSEC s'active chaque année pour récupérer un maximum d'avis, pour que tu puisses faire ton choix plus aisément.</p>
                <p>Il faut savoir que le CMT n'est pas officiel. Les avis qui sont récoltés ici ne proviennent pas de l'administration. Donc pas de langue de bois, tu t'exprimes comme tu le souhaites (toujours dans le respect d'autrui).</p>
                <p>De plus, nous t'invitons bien évidemment à mettre tes avis. Venir récupérer des infos c'est bien, mais en donner soit même c'est pas mal aussi. Pas de panique, tout est anonyme !</p>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Court-Mais-Trash. Tous droits réservés.</p>
            <p>Développé avec passion par Digital Hippo</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        const courseData = [
            { id: 'MKGS31491', name: 'Case Studies in B-Analytics', rating: 6.4, reviews: 27, department: 'Marketing' },
            { id: 'MKGS31492', name: 'sém. mgt savoir-faire except', rating: 8.0, reviews: 11, department: 'Marketing' },
            { id: 'MKGS33212', name: 'Les stratégies de l\'industrie du voyage', rating: 8.0, reviews: 1, department: 'Marketing' },
            { id: 'MKGS33224', name: 'actualité du tourisme, hôtellerie, restauration', rating: 8.0, reviews: 6, department: 'Marketing' },
            { id: 'MKGS33300', name: 'Luxury Concepts & Hospitality', rating: 7.5, reviews: 2, department: 'Marketing' },
        ];

        const professorData = [
            { name: 'Alexandre Avrillon', rating: 9.0, reviews: 1, department: 'Droit' },
            { name: 'Wilfried Sand', rating: 7.5, reviews: 2, department: 'Economics' },
        ];

        const chartData = [
            { name: 'Marketing', avgRating: 7.58, totalCourses: 5 },
            { name: 'Droit', avgRating: 9.0, totalCourses: 1 },
            { name: 'Economics', avgRating: 7.5, totalCourses: 1 },
        ];

        let activeTab = 'courses';
        const cardContainer = document.getElementById('cardContainer');
        const searchInput = document.getElementById('searchInput');
        const tabButtons = document.querySelectorAll('.tab-btn');

        function renderCards(data) {
            cardContainer.innerHTML = '';
            data.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <h3 class="card-title">${item.name}</h3>
                    <p class="card-info"><i class="fas fa-star"></i> Note: ${item.rating.toFixed(1)}</p>
                    <p class="card-info"><i class="fas fa-comments"></i> Avis: ${item.reviews}</p>
                    <p class="card-info"><i class="fas fa-building"></i> Département: ${item.department}</p>
                `;
                cardContainer.appendChild(card);
            });
        }

        function filterData(data, searchTerm) {
            return data.filter(item => 
                item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                item.department.toLowerCase().includes(searchTerm.toLowerCase())
            );
        }

        searchInput.addEventListener('input', () => {
            const searchTerm = searchInput.value;
            const filteredData = filterData(activeTab === 'courses' ? courseData : professorData, searchTerm);
            renderCards(filteredData);
        });

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                activeTab = button.dataset.tab;
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                renderCards(activeTab === 'courses' ? courseData : professorData);
            });
        });

        // Initialize chart
        const ctx = document.getElementById('myChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: chartData.map(item => item.name),
                datasets: [
                    {
                        label: 'Note moyenne',
                        data: chartData.map(item => item.avgRating),
                        backgroundColor: 'rgba(58, 134, 255, 0.7)',
                        borderColor: 'rgba(58, 134, 255, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Nombre de cours',
                        data: chartData.map(item => item.totalCourses),
                        backgroundColor: 'rgba(131, 56, 236, 0.7)',
                        borderColor: 'rgba(131, 56, 236, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
              plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Analyse des départements',
                        font: {
                            size: 18,
                            weight: 'bold'
                        }
                    }
                }
            }
        });

        // Initialize the page
        renderCards(courseData);

        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Add animation on scroll
        function animateOnScroll() {
            const elements = document.querySelectorAll('.card, .chart-container, .about-cmt');
            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementBottom = element.getBoundingClientRect().bottom;
                if (elementTop < window.innerHeight && elementBottom > 0) {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }
            });
        }

        window.addEventListener('scroll', animateOnScroll);
        animateOnScroll(); // Initial check on page load

        // Add functionality to the search button
        document.querySelector('.search-btn').addEventListener('click', () => {
            const searchTerm = searchInput.value;
            const filteredData = filterData(activeTab === 'courses' ? courseData : professorData, searchTerm);
            renderCards(filteredData);
        });

        // Add hover effect to cards
        function addCardHoverEffect() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('mouseover', () => {
                    card.style.transform = 'translateY(-10px)';
                    card.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';
                });
                card.addEventListener('mouseout', () => {
                    card.style.transform = 'translateY(0)';
                    card.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
                });
            });
        }

        // Call the function after rendering cards
        addCardHoverEffect();

        // Add a scroll-to-top button
        const scrollToTopBtn = document.createElement('button');
        scrollToTopBtn.innerHTML = '&uarr;';
        scrollToTopBtn.style.position = 'fixed';
        scrollToTopBtn.style.bottom = '20px';
        scrollToTopBtn.style.right = '20px';
        scrollToTopBtn.style.fontSize = '24px';
        scrollToTopBtn.style.backgroundColor = var(--primary-color);
        scrollToTopBtn.style.color = 'white';
        scrollToTopBtn.style.border = 'none';
        scrollToTopBtn.style.borderRadius = '50%';
        scrollToTopBtn.style.width = '50px';
        scrollToTopBtn.style.height = '50px';
        scrollToTopBtn.style.cursor = 'pointer';
        scrollToTopBtn.style.display = 'none';
        document.body.appendChild(scrollToTopBtn);

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.style.display = 'block';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>
